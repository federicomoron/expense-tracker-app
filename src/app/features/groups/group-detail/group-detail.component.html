<h2>{{ group()?.name }} (ID: {{ groupId() }})</h2>

@if (group()) {
  <section class="summary-section">
    <h3>Balance Summary</h3>
    <ul>
      @for (balance of group()!.balanceSummary; track balance.currency) {
        <li>
          @if (balance.amount > 0) {
            ðŸ’µ They owe you {{ balance.amount }} {{ balance.currency }}
          } @else if (balance.amount < 0) {
            ðŸ’¸ You owe {{ -balance.amount }} {{ balance.currency }}
          } @else {
            âœ” No debts in {{ balance.currency }}
          }
        </li>
      }
    </ul>

    <h3>Member Balances</h3>
    <ul>
      @for (mb of group()!.memberBalances; track mb.userId) {
        <li>
          @if (mb.amount < 0) {
            You owe {{ mb.name }} {{ -mb.amount }} {{ mb.currency }}
          } @else if (mb.amount > 0) {
            {{ mb.name }} owes you {{ mb.amount }} {{ mb.currency }}
          } @else {
            âœ” You are settled with {{ mb.name }} ({{ mb.currency }})
          }
        </li>
      }
    </ul>
  </section>
}

@if (group()) {
  <app-expenses></app-expenses>
}

<button mat-fab color="primary" class="new-expense-button" (click)="goToNewExpense()">
  <mat-icon>add</mat-icon>
</button>
